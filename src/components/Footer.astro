---
import type { Props } from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/Footer.astro';
import Giscus from './Giscus.astro';

const { entry } = Astro.props;

// Show Giscus on docs and blog pages, not on splash/landing/index pages
const isSplash = entry?.data?.template === 'splash';
const isAbout = Astro.url.pathname.startsWith('/about');
const isIndexPage = /^\/(blog|docs)\/?$/.test(Astro.url.pathname);
const showGiscus = !isSplash && !isAbout && !isIndexPage;
---

<Default {...Astro.props} />
{showGiscus && <Giscus />}
